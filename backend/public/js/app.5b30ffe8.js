(function(e){function t(t){for(var r,u,c=t[0],i=t[1],s=t[2],d=0,p=[];d<c.length;d++)u=c[d],Object.prototype.hasOwnProperty.call(a,u)&&a[u]&&p.push(a[u][0]),a[u]=0;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r]);l&&l(t);while(p.length)p.shift()();return o.push.apply(o,s||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,c=1;c<n.length;c++){var i=n[c];0!==a[i]&&(r=!1)}r&&(o.splice(t--,1),e=u(u.s=n[0]))}return e}var r={},a={app:0},o=[];function u(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,u),n.l=!0,n.exports}u.m=e,u.c=r,u.d=function(e,t,n){u.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},u.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},u.t=function(e,t){if(1&t&&(e=u(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(u.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)u.d(n,r,function(t){return e[t]}.bind(null,r));return n},u.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return u.d(t,"a",t),t},u.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},u.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],i=c.push.bind(c);c.push=t,c=c.slice();for(var s=0;s<c.length;s++)t(c[s]);var l=i;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"10dd":function(e,t,n){},"1f81":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("7a23");function a(e,t,n,a,o,u){var c=Object(r["u"])("router-view");return Object(r["o"])(),Object(r["c"])("div",null,[Object(r["f"])(c,{class:"view"})])}var o={name:"App",data:function(){return{}}};n("b826");o.render=a;var u=o,c=n("5502"),i={name:"Test"},s={mutationTest:function(e){console.log("mutation Test function")},login:function(e,t){console.log(t.id,t.password)}},l=n("1da1"),d=(n("b0c0"),n("96cf"),n("bc3a")),p=n.n(d),f={actionTest:function(e){console.log("action Test function")},requestLogin:function(e,t){return Object(l["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e.state,e.commit,r={id:t.id,password:t.password},n.next=4,p.a.post("/users/login",r);case 4:return n.abrupt("return",n.sent);case 5:case"end":return n.stop()}}),n)})))()},requestSignup:function(e,t){return Object(l["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e.state,r={name:t.name,id:t.id,password:t.password,email:t.email},n.next=4,p.a.post("/users/signup",r);case 4:return n.abrupt("return",n.sent);case 5:case"end":return n.stop()}}),n)})))()},requestUniqueIdCheck:function(e,t){return Object(l["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e.state,r={id:t},n.next=4,p.a.post("/users/isuniqueid",r);case 4:return n.abrupt("return",n.sent);case 5:case"end":return n.stop()}}),n)})))()}},b=Object(c["a"])({state:i,mutations:s,actions:f}),m=b,O=n("6c02"),j=Object(r["B"])("data-v-f7dd37b4");Object(r["r"])("data-v-f7dd37b4");var g=Object(r["f"])("h1",null,"Home",-1),v=Object(r["f"])("main",null," Here is Home. what can i do here? ",-1),h=Object(r["f"])("footer",null,null,-1);Object(r["p"])();var w=j((function(e,t,n,a,o,u){return Object(r["o"])(),Object(r["c"])("div",null,[Object(r["f"])("header",null,[g,Object(r["f"])("button",{onClick:t[1]||(t[1]=function(e){return u.logout()})},"logout")]),v,h])})),k=(n("99af"),n("ac1f"),n("466d"),{setCookie:function(e,t,n){var r=new Date;r.setTime(r.getTime()+n),document.cookie="".concat(e,"=").concat(t,";expires=").concat(r.toUTCString(),";path='/'")},getCookie:function(e){var t=document.cookie.match("(^|;)?".concat(e,"=([^;]*)(;|$)"));return t?t[2]:null},deleteCookie:function(e){var t=new Date;document.cookie="".concat(e,"='';expires=").concat(t.toUTCString(),";path=/")}}),y={name:"Home",data:function(){return{id:"",password:""}},methods:{logout:function(){try{k.deleteCookie("user"),this.$router.push("/login")}catch(e){console.error("logout failed:",e)}}}};n("67e8");y.render=w,y.__scopeId="data-v-f7dd37b4";var x=y,q=Object(r["B"])("data-v-0317fd36");Object(r["r"])("data-v-0317fd36");var S={class:"card"},C=Object(r["f"])("h1",null,"login",-1),U=Object(r["e"])("signup"),A={class:"form"},_=Object(r["f"])("footer",null,null,-1);Object(r["p"])();var R=q((function(e,t,n,a,o,u){var c=Object(r["u"])("router-link");return Object(r["o"])(),Object(r["c"])("div",S,[Object(r["f"])("header",null,[C,Object(r["f"])(c,{to:"/signup"},{default:q((function(){return[U]})),_:1}),Object(r["e"])(" "+Object(r["w"])(o.loginStatus),1)]),Object(r["f"])("main",null,[Object(r["f"])("div",A,[Object(r["A"])(Object(r["f"])("input",{id:"id","onUpdate:modelValue":t[1]||(t[1]=function(e){return o.id=e})},null,512),[[r["y"],o.id]]),Object(r["A"])(Object(r["f"])("input",{id:"pw",type:"password","onUpdate:modelValue":t[2]||(t[2]=function(e){return o.password=e})},null,512),[[r["y"],o.password]]),Object(r["f"])("button",{onClick:t[3]||(t[3]=function(e){return u.login(o.id,o.password)})},"submit")])]),_])})),I={name:"Login",data:function(){return{id:"",password:"",loginStatus:""}},methods:{login:function(e,t){var n=this;return Object(l["a"])(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n.loginStatus="ongoing",r.prev=1,r.next=4,n.$store.dispatch("requestLogin",{id:e,password:t});case 4:a=r.sent,201===a.status&&(n.loginStatus="",n.$router.push({path:"/"})),r.next=12;break;case 8:r.prev=8,r.t0=r["catch"](1),n.loginStatus="failed",console.error("login failed:",r.t0);case 12:case"end":return r.stop()}}),r,null,[[1,8]])})))()}}};n("7d6a");I.render=R,I.__scopeId="data-v-0317fd36";var T=I,P=Object(r["B"])("data-v-4b94f9b6");Object(r["r"])("data-v-4b94f9b6");var V=Object(r["f"])("h1",null,"Signup",-1),$=Object(r["e"])("Home"),H={class:"form"},L=Object(r["e"])(" 이름 "),M=Object(r["e"])(" 아이디 "),B=Object(r["e"])(" 비밀번호 "),E=Object(r["e"])(" 비밀번호 재확인 "),D={key:0},J=Object(r["e"])(" 이메일 "),z=Object(r["f"])("footer",null," footer ",-1);Object(r["p"])();var F=P((function(e,t,n,a,o,u){var c=Object(r["u"])("router-link");return Object(r["o"])(),Object(r["c"])("div",null,[Object(r["f"])("header",null,[V,Object(r["f"])(c,{to:"/"},{default:P((function(){return[$]})),_:1})]),Object(r["f"])("main",null,[Object(r["e"])(" signup "+Object(r["w"])(o.requestStatus)+" ",1),Object(r["f"])("div",H,[Object(r["f"])("label",null,[L,Object(r["A"])(Object(r["f"])("input",{type:"text",name:"name","onUpdate:modelValue":t[1]||(t[1]=function(e){return o.name=e})},null,512),[[r["y"],o.name]])]),Object(r["f"])("label",null,[M,Object(r["A"])(Object(r["f"])("input",{type:"text",name:"id","onUpdate:modelValue":t[2]||(t[2]=function(e){return o.id=e})},null,512),[[r["y"],o.id]]),Object(r["f"])("button",{onClick:t[3]||(t[3]=function(e){return u.requestUniqueIdCheck(o.id)})},"중복확인")]),Object(r["f"])("label",null,[B,Object(r["A"])(Object(r["f"])("input",{type:"password",name:"password","onUpdate:modelValue":t[4]||(t[4]=function(e){return o.password=e})},null,512),[[r["y"],o.password]])]),Object(r["f"])("label",null,[E,Object(r["A"])(Object(r["f"])("input",{type:"password","onUpdate:modelValue":t[5]||(t[5]=function(e){return o.passwordAgain=e})},null,512),[[r["y"],o.passwordAgain]]),""!==o.password&&o.password!==o.passwordAgain?(Object(r["o"])(),Object(r["c"])("p",D,"비밀번호가 일치하지 않습니다.")):Object(r["d"])("",!0)]),Object(r["f"])("label",null,[J,Object(r["A"])(Object(r["f"])("input",{type:"email",name:"email","onUpdate:modelValue":t[6]||(t[6]=function(e){return o.email=e})},null,512),[[r["y"],o.email]])]),Object(r["f"])("button",{onClick:t[7]||(t[7]=function(e){return u.requestSignup({name:o.name,id:o.id,password:o.password,passwordAgain:o.passwordAgain,email:o.email})})},"signup")])]),z])})),G={name:"Signup",data:function(){return{name:"",id:"",password:"",passwordAgain:"",email:"",requestStatus:"",isUniqueId:!1}},methods:{requestUniqueIdCheck:function(e){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,t.$store.dispatch("requestUniqueIdCheck",e);case 3:r=n.sent,201===r.status&&(confirm("사용 가능한 아이디입니다!"),t.isUniqueId=!0),n.next=11;break;case 7:n.prev=7,n.t0=n["catch"](0),confirm("사용 불가능한 아이디입니다."),t.isUniqueId=!1;case 11:case"end":return n.stop()}}),n,null,[[0,7]])})))()},requestSignup:function(e){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function n(){var r,a,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(r=t.passwordEqualCheck(e.password,e.passwordAgain),!1!==r){n.next=3;break}return n.abrupt("return");case 3:if(!1!==t.isUniqueId){n.next=6;break}return confirm("아이디 중복을 확인해 주십시오."),n.abrupt("return");case 6:return t.requestStatus="ongoing",n.prev=7,a={name:e.name,id:e.id,password:e.password,email:e.email},n.next=11,t.$store.dispatch("requestSignup",a);case 11:o=n.sent,201===o.status&&(t.requestStatus="success",t.$router.push({path:"/"})),n.next=19;break;case 15:n.prev=15,n.t0=n["catch"](7),t.requestStatus="failed",console.error("signup failed:",n.t0);case 19:case"end":return n.stop()}}),n,null,[[7,15]])})))()},passwordEqualCheck:function(e,t){return e?e===t||(confirm("비밀번호가 일치하지 않습니다."),!1):(confirm("비밀번호를 입력해 주십시오."),!1)}}};n("dfbd");G.render=F,G.__scopeId="data-v-4b94f9b6";var K=G,N=[{path:"/",name:"Home",component:x},{path:"/login",name:"Login",component:T},{path:"/signup",name:"Signup",component:K}],Q=Object(O["a"])({history:Object(O["b"])(),routes:N});Q.beforeEach((function(e,t,n){var r=k.getCookie("user")||null;"/login"===e.path||"/signup"===e.path?r?n("/"):n():r?n():n("/login")}));var W=Q,X=n("2106"),Y=n.n(X),Z=Object(r["b"])(u);Z.use(m),Z.use(W),Z.use(Y.a,p.a),Z.mount("#app")},"5a0f":function(e,t,n){},"67e8":function(e,t,n){"use strict";n("5a0f")},"7d6a":function(e,t,n){"use strict";n("1f81")},b826:function(e,t,n){"use strict";n("f0b2")},dfbd:function(e,t,n){"use strict";n("10dd")},f0b2:function(e,t,n){}});
//# sourceMappingURL=app.5b30ffe8.js.map